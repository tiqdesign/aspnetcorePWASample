
@{
    ViewData["Title"] = "TamamlanmaAyrinti";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using tiqpwa.Entities.Concrete
@using tiqpwa.ViewModels
@model tiqpwa.ViewModels.ProjeListeViewModel
<script>
    $(document).ready(function () {
        $('select').formSelect();
    });
</script>
<script>
    $(document).ready(function () {
        $('.datepicker').datepicker({
            i18n: {
                months: [
                    'Ocak',
                    'Şubat',
                    'Mart',
                    'Nisan',
                    'Mayıs',
                    'Haziran',
                    'Temmuz',
                    'Ağustos',
                    'Eylül',
                    'Ekim',
                    'Kasım',
                    'Aralık'
                ],
                monthsShort: [
                    'Oca',
                    'Şub',
                    'Mar',
                    'Nis',
                    'May',
                    'Haz',
                    'Tem',
                    'Ağu',
                    'Eyl',
                    'Eki',
                    'Kas',
                    'Ara'
                ],
                weekdays: [
                    'Pazar',
                    'Pazartesi',
                    'Salı',
                    'Çarşamba',
                    'Perşembe',
                    'Cuma',
                    'Cumartesi'

                ],
                weekdaysShort: [
                    'Pz',
                    'Pzt',
                    'Sl',
                    'Çrş',
                    'Prş',
                    'Cm',
                    'Cmt'
                ],
                weekdaysAbbrev: ['P', 'Pzt', 'S', 'Ç', 'Pr', 'C', 'Cts'],
                cancel: 'Geri',
                clear: 'Temizle',
                done: 'Tamam'
            },
            firstDay: 1,
            autoClose: true
        });
    });
</script>
<div class="row" style="margin-top:20px">
    <img src="~/karaman.png" style="width: 100px" />
    <a href="@Url.Action("Index", "Anasayfa")" class="waves-effect waves-light btn-small red lighten-1 secondary-content" style="margin-top:5px" onclick="M.toast({html: 'Sayfa Yükleniyor...'})"><b style="color:white"> Geri </b></a>
</div>
@{
    Proje p = new Proje()
    {
        ProjeID = Model.Proje.ProjeID,
        ProjeTarihi = Model.Proje.ProjeTarihi,
        IsinCinsi = Model.Proje.IsinCinsi,
        YetkiliID = Model.Proje.YetkiliID,
        ProjeDurumu = Model.Proje.ProjeDurumu,
        ProjeAdi = Model.Proje.ProjeAdi,
        TamamlanmaTarihi = Model.Proje.TamamlanmaTarihi,
        IlgiliPersonel = Model.Proje.IlgiliPersonel,
        YetkiliTelefon = Model.Proje.YetkiliTelefon,
        IsinKonusu = Model.Proje.IsinKonusu,
        Lokasyon = Model.Proje.Lokasyon,
        IlaveKullanilanUrun = Model.Proje.IlaveKullanilanUrun,
        ProjeNot = Model.Proje.ProjeNot
    };

    ProjeListeViewModel plv = new ProjeListeViewModel()
    {
        Proje = p,
        KonuString = Model.KonuString,
        Konular = Model.Konular
    };
}
<div class="card-panel white hoverable" style="margin-top:10px;">
    <div class="center-align">
        <p><b> Bilgileri Güncelle </b></p>
    </div>
    <form class="col s12" asp-action="TamamlanmaAyrinti" asp-validation-summary="all" style="border-spacing: -50px -50px;">
        <div>
            <div class="input-field">
                <input type="hidden" asp-for="Proje.ID" value="@Model.Proje.ID" />
            </div>
        </div>
        <div>
            <div class="input-field">
                <input type="hidden" asp-for="Proje.IsinAciklamasi" value="@Model.Proje.IsinAciklamasi" />
            </div>
        </div>
        <div>
            <div class="input-field">
                <input type="hidden" asp-for="Proje.IlgiliPersonel" value="@Model.Proje.IlgiliPersonel" />
            </div>
        </div>
        <div>
            <div class="input-field">
                <input type="hidden" asp-for="Proje.ProjeID" value="@Model.Proje.ProjeID" />
            </div>
        </div>
        <div>
            <div class="input-field">
                <input type="hidden" asp-for="Proje.IsinCinsi" value="@Model.Proje.IsinCinsi" />
            </div>
        </div>
        <div>
            <div class="input-field">
                <input type="hidden" asp-for="Proje.YetkiliID" value="@Model.Proje.YetkiliID" />
            </div>
        </div>
        <div>
            <div class="input-field">
                <input type="hidden" asp-for="Proje.ProjeDurumu" value="@Model.Proje.ProjeDurumu" />
            </div>
        </div>
        <div class="col s12">
            <div class="input-field">
                <input id="proje_adi" value="@Model.Proje.ProjeAdi" asp-for="Proje.ProjeAdi" type="text">
                <label for="proje_adi"><b> Proje Adı :</b></label>
            </div>
        </div>
        <div class="col s12">
            <label for="tarih"><b>Proje Tarihi :</b></label>
            <input id="tarih" type="text" value="@Model.Proje.ProjeTarihi" asp-for="Proje.ProjeTarihi" class="datepicker">
        </div>
        <div class="col s12">
            <label for="tamamlanma_tarih"><b>Tamamlanma Tarihi :</b></label>
            <input id="tamamlanma_tarih" type="text" value="@Model.Proje.TamamlanmaTarihi" asp-for="Proje.TamamlanmaTarihi" class="datepicker">
        </div>
        <div class="col s12">
            <div class="input-field">
                <input id="yetkili_ad" type="text" asp-for="YetkiliAdiSoyadi" value="@Model.YetkiliAdiSoyadi">
                <label for="yetkili_ad"> <b>Yetkili Adı :</b></label>
            </div>
        </div>

        <div class="col s12">
            <div class="input-field">
                <input id="yetkili_tel" type="text" asp-for="Proje.YetkiliTelefon" value="@Model.Proje.YetkiliTelefon">
                <label for="yetkili_tel"> <b>Yetkili Telefon :</b></label>
            </div>
        </div>
        <div class="col s12">
            <div class="input-field">
                <select id="isin_konusu" asp-for="Proje.IsinKonusu">
                    @foreach (var item in Model.Konular)
                    {
                        if (item.KonuID == Model.Proje.IsinKonusu)
                        {
                            <option value="@item.KonuID" selected>@item.Aciklama</option>
                        }
                        else
                        {
                            <option value="@item.KonuID">@item.Aciklama</option>
                        }
                    }
                </select>
                <label for="isin_konusu"><b>Konu :</b></label>
            </div>
        </div>

        <div class="col s12">
            <div class="input-field">
                <input id="lokasyon" type="text" asp-for="Proje.Lokasyon" value="@Model.Proje.Lokasyon">
                <label for="lokasyon"> <b>Lokasyon :</b></label>
            </div>
        </div>
        <div class="col s12">
            <div class="input-field">
                <textarea id="proje_not" class="materialize-textarea" asp-for="Proje.ProjeNot" value="@Model.Proje.ProjeNot"></textarea>
                <label for="proje_not"> <b>Not Ekle :</b></label>
            </div>
        </div>
        <div class="col s12">
            <div class="input-field">
                <textarea id="kullanilan_urun" class="materialize-textarea" asp-for="Proje.IlaveKullanilanUrun" value="@Model.Proje.IlaveKullanilanUrun"></textarea>
                <label for="kullanilan_urun"> <b>İlave Kullanılan Ürünler :</b></label>
            </div>
        </div>
        <div class="center-align">
            <button class="waves-effect waves-light btn-small green  darken-1" type="submit" style="margin-top: 5px" onclick="M.toast({ html: 'Kaydediliyor...' })"><b style="color: white"> Kaydet </b></button>
        </div>
    </form>
    <div class="center-align">
        <a href="@Url.Action("Rapor","Anasayfa",new {id = @Model.Proje.ID})" class="waves-effect waves-light btn-small blue   darken-1 " style="margin-top:5px" onclick="M.toast({html: 'Rapor Çıkarılıyor...'})"><b style="color:white"> Rapor Çıkart </b></a>
    </div>
</div>

