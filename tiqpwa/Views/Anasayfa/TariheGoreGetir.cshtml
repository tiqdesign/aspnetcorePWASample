
@{
    ViewData["Title"] = "TariheGoreGetir";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model List<tiqpwa.ViewModels.ProjeListeViewModel>
<div class="row" style="margin-top:20px">
    <img src="~/karaman.png" style="width: 100px" />
    <a href="@Url.Action("Index", "Anasayfa")" class="waves-effect waves-light btn-small red lighten-1 secondary-content" style="margin-top:5px" onclick="M.toast({html: 'Sayfa Yükleniyor...'})"><b style="color:white"> Geri </b></a>
</div>

@{
    if (Model.Count == 0)
    {
        <div class="center-align">
            <h3>
                Belirtilen Tarihe Ait Bir Proje Bulunamamıştır.
            </h3>
        </div>

    }
    else
    {
        var tarih = Model.Find(p => p.Proje.ProjeID != null).Proje.ProjeTarihi.Value.ToShortDateString();
        <div class="col s12" style="margin-top:10px">

            <ul class="collection with-header">
                <li>
                    <div class="collection-header center-align">
                        <b style="font-size: 18px">
                            @tarih İş Günü
                        </b>
                    </div>
                    @foreach (var item in Model)
                    {
                        switch (item.Proje.ProjeDurumu)
                        {
                            case 1:
                                {
                                    <div class="collection-item">
                                        <a href="@Url.Action("DevamEdenAyrinti", "Anasayfa", new {id = item.Proje.ProjeID})">
                                            <p><b style="color: red"> Proje Adı: </b><b> @item.Proje.ProjeAdi</b></p>
                                            <p><span class="badge secondary-content" style="margin-top: 10px"><i class="material-icons">chevron_right</i></span></p>
                                            <p><b style="color: red"> Tarih : </b><b>@item.Proje.ProjeTarihi </b></p>
                                            <p><b style="color: red"> Konu : </b><b>@item.KonuString </b></p>
                                            <p><b style="color: red"> İlgili Personel : </b><b>@foreach (var kullanici in item.Yetkililer)
                                                                                               {
                                                                                                   @kullanici;
                                                                                                   <br/>
                                                                                               }</b></p>
                                        </a>
                                    </div>
                                }
                                break;
                            case 2:
                                {
                                    <div class="collection-item">
                                        <a href="@Url.Action("BeklemeAyrinti", "Anasayfa", new {id = item.Proje.ProjeID})">
                                            <p><b style="color: red"> Proje Adı: </b><b> @item.Proje.ProjeAdi</b></p>
                                            <p><span class="badge secondary-content" style="margin-top: 10px"><i class="material-icons">chevron_right</i></span></p>
                                            <p><b style="color: red"> Tarih : </b><b>@item.Proje.ProjeTarihi </b></p>
                                            <p><b style="color: red"> Konu : </b><b>@item.KonuString</b></p>
                                            <p><b style="color:red">  Bekleme Alma Tarihi :</b><b>@item.Proje.BeklemeAlinmaTarihi</b></p>
                                            <p><b style="color: red"> İlgili Personel : </b><b>@foreach (var kullanici in item.Yetkililer)
                                                                                               {
                                                                                                   @kullanici;
                                                                                                   <br/>
                                                                                               }</b></p>
                                        </a>
                                    </div>
                                }
                                break;
                            case 3:
                                {
                                    <div class="collection-item">
                                        <a href="@Url.Action("TamamlanmaAyrinti", "Anasayfa", new {id = item.Proje.ProjeID})">
                                            <p><b style="color: red"> Proje Adı: </b><b> @item.Proje.ProjeAdi</b></p>
                                            <p><span class="badge secondary-content" style="margin-top: 10px"><i class="material-icons">chevron_right</i></span></p>
                                            <p><b style="color: red"> Tarih : </b><b>@item.Proje.ProjeTarihi </b></p>
                                            <p><b style="color: red"> Konu : </b><b>@item.KonuString </b></p>
                                            <p><b style="color:red">  Tamamlanma Tarihi :</b><b>@item.Proje.TamamlanmaTarihi</b></p>
                                            <p><b style="color: red"> İlgili Personel : </b><b>@foreach (var kullanici in item.Yetkililer)
                                                                                               {
                                                                                                   @kullanici;
                                                                                                   <br/>
                                                                                               }</b></p>
                                        </a>
                                    </div>
                                }
                                break;
                            case 4:
                                {
                                    <div class="collection-item">
                                        <a href="@Url.Action("IptalOlanAyrinti", "Anasayfa", new {id = item.Proje.ProjeID})">
                                            <p><b style="color: red"> Proje Adı: </b><b> @item.Proje.ProjeAdi</b></p>
                                            <p><span class="badge secondary-content" style="margin-top: 10px"><i class="material-icons">chevron_right</i></span></p>
                                            <p><b style="color: red"> Tarih : </b><b>@item.Proje.ProjeTarihi </b></p>
                                            <p><b style="color: red"> Konu : </b><b>@item.KonuString </b></p>
                                            <p><b style="color:red"> İptal Tarihi :</b><b>@item.Proje.IptalTarihi</b></p>
                                            <p><b style="color: red"> İlgili Personel : </b><b>@foreach (var kullanici in item.Yetkililer)
                                                                                               {
                                                                                                   @kullanici;
                                                                                                   <br/>
                                                                                               }</b></p>
                                        </a>
                                    </div>
                                }
                                break;
                            case 5:
                                break;
                        }
                    }
                </li>
            </ul>
        </div>
    }
}


